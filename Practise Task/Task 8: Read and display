students = []

for i in range (3):
    name = input(f"Enter name {i+1}: ")
    
    while True:
        try:
            age = int(input(f"Enter age {i+1}: "))
            if age < 0:
                print("Age can't be neagative")
                continue
            break
        except ValueError:
            print("Enter a valid number for age")
    
    while True:
        try:
            cgpa = float(input(f"Enter CGPA {i+1}: "))
            if cgpa < 0 or cgpa > 10:
                print ("CGPA value must be between 0 to 10")
                continue
            break
        except ValueError:
            print("Enter a valid number for cgpa")
    student = {
        "name" : name,
        "age" : age,
        "cgpa" : cgpa
        }
    students.append(student)

#write to file
with open("students.txt", "w") as file:
    for student in students:
        file.write(f"{student['name']}, {student['age']}, {student['cgpa']}\n")

#reading from file and display
print("\n--Students from file ---")
with open ("students.txt", "r") as file:
    for line in file:
        name, age, cgpa = line.strip().split(",")
        print("Name", name)
        print("age", age)
        print("cgpa", cgpa)
        print("-"*20)
